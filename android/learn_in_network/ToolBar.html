<html>
<head>
  <title>ToolBar</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="710"/>
<h1>ToolBar</h1>

<div>
<span><div style="-evernote-webclip:true"><br/></div><div style="font-family: sans-serif; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><div style="box-sizing: border-box; font-family: Arial; color: rgb(0, 0, 0); -webkit-font-smoothing: antialiased; background-color: rgb(246, 246, 246); background-position: initial initial; background-repeat: initial initial;"><div style="box-sizing:border-box;background:rgb(255, 255, 255);font-family:&quot;Microsoft Yahei&quot;;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;border:0px none rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:9551.78px;"><div style="text-align: center; box-sizing: border-box; border: 0px none rgb(0, 0, 0); padding: 5px 0px 15px; margin: 0px; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 847.5px; font-weight: bold;"><div><span style="font-size: 15px;">android：ToolBar详解</span></div></div><div style="zoom: 1; box-sizing: border-box; margin: 0px; padding: 5px 0px; color: rgb(100, 100, 100); border: 0px none rgb(100, 100, 100); text-align: center; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 847.5px; height: 34px;"><div><span style="color: rgb(51, 51, 51);"><span style="font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-size: 15px;"> </span></span></span></div></div><div style="color: rgb(51, 51, 51); box-sizing: border-box; margin: 8px 0px 0px; padding: 0px 0px 9px; border: 0px none rgb(51, 51, 51); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 847.5px; height: 9114px;"><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:189px;"><span style="font-size: 15px;">今年(2014) 的 google i/o 发表令多数人为之一亮的 material design，而 google 也从「google i/o 2014」 开始，大家也陆陆续续地看到其更新的 android app 皆套用了这个设计介面。当然，这个设计介面著实让大家感到惊艳外，更让 android 开发者开始担心未来 app 的界面处理了。<br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
不过，所幸有着之前 actionbar 的经验后，android 也很快地在 support library 里面提供了相对应的 api 给开发者使用，本篇就为各位介绍 – toolbar，这是用来取代过去 actionbar 的控件，而现在于 material design 中也对之有一个统一名称：app bar，在未来的 android app 中，就以 toolbar 这个元件来实作之。</span></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:300px;"><img src="ToolBar_files/Image.png" type="image/png" data-filename="Image.png" height="300" style="max-width: 100%; border: 0px none rgb(51, 51, 51); vertical-align: middle; margin: 0px; padding: 0px; box-sizing: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 168px; height: auto;" title="Screenshot_2014-10-24-22-08-20-168x300.png" width="168"/></p><h2 style="box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px; padding: 0px; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 847.5px;"><span style="font-size: 15px;">1. 概述</span></h2><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:189px;"><span style="font-size: 15px;">Android 3.0  Android 推了 ActionBar 这个控件，而到了2013 年 Google 开始大力地推动所谓的 android style，想要逐渐改善过去 android 纷乱的界面设计，希望让终端使用者尽可能在 android 手机有个一致的操作体验。ActionBar 过去最多人使用的两大套件就是 ActionBarSherlock 以及官方提供在 support library v 7 里的 AppCompat。<br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
既然会有本篇跟各位介绍的 Toolbar，也意味着<span style="box-sizing:border-box;border:0px none rgb(255, 0, 0);margin:0px;padding:0px;color:#ff0000;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">官方在某些程度上认为 ActionBar 限制了 android app 的开发与设计的弹性</span></span>，而在 material design 也对之做了名称的定义：App bar。接下来将为各位分成几个阶段进行说明，如何在 android app 中用 toolbar 这个控件来做出一个基本的 app bar 喽。</span></p><p style="background:radial-gradient(closest-side at center center, rgb(255, 255, 255) 70%, rgb(251, 252, 253) 85%, rgb(244, 247, 250) 100%);box-sizing:border-box;margin:0px 0px 15px;padding:25px;text-align:center;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:radial-gradient(closest-side at center center, rgb(255, 255, 255) 70%, rgb(251, 252, 253) 85%, rgb(244, 247, 250) 100%);box-shadow:none;width:847.5px;height:148px;"><ins style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;display:inline-block;width:728px;height:90px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"></ins></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">本篇所使用到的程序请到 <a href="https://github.com/mosil/Android-Mosil-Sample-Toolbar" style="margin:0px;background-color:rgba(0, 0, 0, 0);color:rgb(15, 153, 50);text-decoration:none;border:0px none rgb(15, 153, 50);box-sizing:border-box;padding:0px;transition-duration:0.2s;transition-property:opacity;background-image:none;box-shadow:none;" target="_blank" title="Android-Mosil-Sample-Toolbar"><span style="font-size: 15px;">Github</span></a> 取得。</span></p><h2 style="box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px; padding: 0px; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 847.5px;"><span style="font-size: 15px;">2. 基础套用</span></h2><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:135px;"><span style="font-size: 15px;">这个阶段从 toolbar_demo_checkpoint0 开始，分成下列三个部份：<br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
风格 (style)<br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
界面 (layout)<br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
程序 (java)</span></p><h3 style="box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px; padding: 0px; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 847.5px;"><span style="font-size: 15px;">2.1 风格(style)</span></h3><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">风格要调整的地方有二</span></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">一在 res/values/styles.xml中</span></p><div style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><div><span style="font-size: 15px;">二在 /res/values-v21/styles.xml中</span></div></div><div style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><div><span style="font-size: 15px;">为了之后设定方便，我们先在 res/values/styles.xml 里增加一个名为 AppTheme.Base 的风格(最好直接填写android预置的主题)</span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">&lt;style name=&quot;AppTheme.Base&quot; parent=&quot;<span style="color: rgb(241, 79, 154);"><span style="font-size: 15px;">Theme.AppCompat.Light.NoActionBar</span></span>&quot;&gt; </span></div><div><span style="font-size: 15px;">      &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt; </span></div><div><span style="font-size: 15px;">      &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;</span></div><div><span style="font-size: 15px;">&lt;/style&gt;</span></div></div><div><br/></div><div style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:54px;"><div><span style="font-size: 15px;">因为此范例只使用 Toolbar，所以我们要将让原本的 ActionBar 隐藏起来，然后将原本 AppTheme 的 parent 属性 改为上面的AppTheme.Base，代码如下：</span></div></div><div style="display: block; overflow: auto; box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px 0px 10px; padding: 0px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; color: rgb(51, 51, 51); font-family: Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Consolas, monospace; background-color: rgb(255, 255, 255); background-image: none; box-shadow: none; width: 847.5px; height: 262px; background-position: initial initial; background-repeat: initial initial;"><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">&lt;resources&gt;  </span></div><div><span style="font-size: 15px;">     &lt;!-- Base application theme. --&gt; </span></div><div><span style="font-size: 15px;">     &lt;style name=&quot;AppTheme&quot; parent=&quot;AppTheme.Base&quot;&gt; </span></div><div><span style="font-size: 15px;">     &lt;/style&gt;   </span></div><div><span style="font-size: 15px;">     &lt;style name=&quot;AppTheme.Base&quot; parent=&quot;Theme.AppCompat&quot;&gt;   </span></div><div><span style="font-size: 15px;">          &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;   </span></div><div><span style="font-size: 15px;">          &lt;del&gt;&lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;&lt;/del&gt;   </span></div><div><span style="font-size: 15px;">          &lt;!-- 使用 API Level 22 編譯的話，要拿掉前綴字 --&gt;   </span></div><div><span style="font-size: 15px;">          &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt; </span></div><div><span style="font-size: 15px;">     &lt;/style&gt;</span></div><div><span style="font-size: 15px;">&lt;/resources&gt;</span></div></div><div><br/></div><div><span style="font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-size: 15px;">再来调整Android 5.0的style：  /res/values-v21/styles.xml，也将其 parent 属性改为  AppTheme.Base：</span></span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;resources&gt;   </span></div><div><span style="font-size: 15px;">     &lt;style name=&quot;AppTheme&quot; parent=&quot;AppTheme.Base&quot;&gt;   </span></div><div><span style="font-size: 15px;">     &lt;/style&gt;</span></div><div><span style="font-size: 15px;">&lt;/resources&gt;</span></div></div><div><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></div><h3 style="box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px; padding: 0px; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 847.5px;"><span style="font-size: 15px;">2.2  界面(Layout)</span></h3><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">在 activity_main.xml 里面添加 Toolbar 控件：</span></p><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">&lt;android.support.v7.widget.Toolbar </span></div><div><span style="font-size: 15px;">     android:id=&quot;@+id/toolbar&quot; </span></div><div><span style="font-size: 15px;">     android:minHeight=&quot;?attr/actionBarSize&quot; </span></div><div><span style="font-size: 15px;">     android:layout_width=&quot;match_parent&quot;</span></div><div><span style="font-size: 15px;">     android:layout_height=&quot;wrap_content&quot;&gt;</span></div><div><span style="font-size: 15px;">&lt;/android.support.v7.widget.Toolbar&gt;</span></div></div><div><br/></div><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">请记得用 support v7 里的 toolbar，不然然只有 API Level 21 也就是 Android 5.0 以上的版本才能使用。</span></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:54px;"><span style="font-size: 15px;">这里需注意，要将 RelatvieLayout 里的四个方向的padding 属性去掉，并记得将原本的 Hello World 设为 layout_below=&quot;@+id/toolbar&quot; ，否则会看到像下面这样的错误画面。</span></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:103px;"><img src="ToolBar_files/Image [1].png" type="image/png" data-filename="Image.png" height="103" style="max-width: 100%; border: 0px none rgb(51, 51, 51); vertical-align: middle; margin: 0px; padding: 0px; box-sizing: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 300px; height: auto;" title="Screenshot_2014-10-24-17-19-45-300x103.png" width="300"/></p><div style="box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px; padding: 0px; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 847.5px; font-weight: bold;"><div><span style="font-size: 15px;">2.3 程序 (Java)</span></div></div><div style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><div><span style="font-size: 15px;">在 MainActivity.java 中加入 Toolbar 的声明：</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);setSupportActionBar(toolbar);</span></div></div><div><br/></div><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">声明后，再将之用 setSupportActionBar 设定，Toolbar即能取代原本的 actionbar 了，此阶段完成画面如下：</span></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:300px;"><img src="ToolBar_files/Image [2].png" type="image/png" data-filename="Image.png" height="300" style="max-width: 100%; border: 0px none rgb(51, 51, 51); vertical-align: middle; margin: 0px; padding: 0px; box-sizing: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 168px; height: auto;" title="Screenshot_2014-10-24-17-43-08-168x300.png" width="168"/></p><div style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><div><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></div></div><h2 style="box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px; padding: 0px; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 847.5px;"><span style="font-size: 15px;">3. 自定义颜色(Customization color)</span></h2><div style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><div><br/></div></div><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:300px;"><img src="ToolBar_files/Image [3].png" type="image/png" data-filename="Image.png" height="300" style="max-width: 100%; border: 0px none rgb(51, 51, 51); vertical-align: middle; margin: 0px; padding: 0px; box-sizing: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 168px; height: auto;" title="Toolbar-theme-and-background-168x300.png" width="168"/><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">上图是将本阶段要完成的结果画面做了标示，结合下面的描述希望大家能明白。</span></p><ol style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 10px 25px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:177px;"><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:32px;"><span style="font-size: 15px;">colorPrimaryDark（状态栏底色）：在风格 (styles) 或是主题 (themes) 里进行设定。</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:32px;"><span style="font-size: 15px;">App bar 底色</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:81px;"><span style="font-size: 15px;">这个设定分为二，若你的 android app 仍是使用 actionbar ，则直接在风格 (styles) 或是主题 (themes) 里进行设定 colorPrimary 参数即可；<br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
可若是采用 toolbar 的话，则要在界面 (layout) 里面设定 toolbar 控件的 background 属性。</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:32px;"><span style="font-size: 15px;">navigationBarColor（导航栏底色）：</span></li></ol><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">仅能在 API v21 也就是 Android 5 以后的版本中使用， 因此要将之设定在 res/values-v21/styles.xml 里面。</span></p><ol style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 10px 25px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:32px;"><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:32px;"><span style="font-size: 15px;">主视窗底色：windowBackground</span></li></ol><div style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><div><span style="font-size: 15px;">也因此在这个阶段，我们需要设定的地方有三，一是 style中(res/values/styles.xml</span></div></div><div style="display: block; overflow: auto; box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px 0px 10px; padding: 0px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; color: rgb(51, 51, 51); font-family: Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Consolas, monospace; background-color: rgb(255, 255, 255); background-image: none; box-shadow: none; width: 847.5px; height: 190px; background-position: initial initial; background-repeat: initial initial;"><div><span style="font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div style="margin-left:40px;"><span style="font-size: 15px;">&lt;style name=&quot;AppTheme.Base&quot; parent=&quot;Theme.AppCompat&quot;&gt;</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">      &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">     &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">     &lt;!-- Actionbar color --&gt;</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">     &lt;item name=&quot;colorPrimary&quot;&gt;@color/accent_material_dark&lt;/item&gt;</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">     &lt;!--Status bar color--&gt;</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">     &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/accent_material_light&lt;/item&gt;</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">     &lt;!--Window color--&gt;</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">     &lt;item name=&quot;android:windowBackground&quot;&gt;@color/dim_foreground_material_dark&lt;/item&gt;</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">&lt;/style&gt;</span></div></div><div><span style="font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;"><br/></span></div></div><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">再来是 v21 的style中 (res/values-v21/styles.xml)</span></p><pre style="display: block; overflow: auto; box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px 0px 10px; padding: 0px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; color: rgb(51, 51, 51); font-family: Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Consolas, monospace; word-break: break-all; word-wrap: break-word; background-color: rgb(255, 255, 255); background-image: none; box-shadow: none; width: 847.5px; height: 82px; background-position: initial initial; background-repeat: initial initial;"></pre><ol style="color:rgb(204, 204, 204);box-sizing:border-box;margin:0px 0px 10px 25px;padding:0px;margin-top:0px;margin-bottom:0px;border:0px none rgb(204, 204, 204);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:72px;"><li><span style="font-size: 15px;"><span style="font-weight: normal; box-sizing: border-box; margin: 0px 4px; padding: 1px 3px; color: navy; border: 0px none rgb(0, 0, 128); cursor: pointer; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;">&lt;style</span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;"> </span></span><span style="box-sizing:border-box;border:0px none rgb(121, 93, 163);margin:0px;padding:0px;color:rgb(121, 93, 163);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">name</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">=</span></span><span style="box-sizing:border-box;border:0px none rgb(24, 54, 145);margin:0px;padding:0px;color:rgb(24, 54, 145);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">&quot;AppTheme&quot;</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;"> </span></span><span style="box-sizing:border-box;border:0px none rgb(121, 93, 163);margin:0px;padding:0px;color:rgb(121, 93, 163);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">parent</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">=</span></span><span style="box-sizing:border-box;border:0px none rgb(24, 54, 145);margin:0px;padding:0px;color:rgb(24, 54, 145);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">&quot;AppTheme.Base&quot;</span></span><span style="font-weight: normal; box-sizing: border-box; margin: 0px 4px; padding: 1px 3px; color: navy; border: 0px none rgb(0, 0, 128); cursor: pointer; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;"><span style="font-size: 15px;">&gt;</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">  </span></span><span style="box-sizing:border-box;border:0px none rgb(150, 152, 150);margin:0px;padding:0px;color:rgb(150, 152, 150);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">&lt;!--Navigation bar color--&gt;</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">  </span></span><span style="font-weight: normal; box-sizing: border-box; margin: 0px 4px; padding: 1px 3px; color: navy; border: 0px none rgb(0, 0, 128); cursor: pointer; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;"><span style="font-size: 15px;">&lt;item</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;"> </span></span><span style="box-sizing:border-box;border:0px none rgb(121, 93, 163);margin:0px;padding:0px;color:rgb(121, 93, 163);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">name</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">=</span></span><span style="box-sizing:border-box;border:0px none rgb(24, 54, 145);margin:0px;padding:0px;color:rgb(24, 54, 145);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">&quot;android:navigationBarColor&quot;</span></span><span style="font-weight: normal; box-sizing: border-box; margin: 0px 4px; padding: 1px 3px; color: navy; border: 0px none rgb(0, 0, 128); cursor: pointer; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;"><span style="font-size: 15px;">&gt;</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">@color/accent_material_light</span></span><span style="font-weight: normal; box-sizing: border-box; margin: 0px 4px; padding: 1px 3px; color: navy; border: 0px none rgb(0, 0, 128); cursor: pointer; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;"><span style="font-size: 15px;">&lt;/item&gt;</span></span><span style="font-weight: normal; box-sizing: border-box; margin: 0px 4px; padding: 1px 3px; color: navy; border: 0px none rgb(0, 0, 128); cursor: pointer; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;"><span style="font-size: 15px;">&lt;/style&gt;</span></span></span></li></ol><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">最后，就是为了本篇的主角 – Toolbar 的 background 进行设定。</span></p><pre style="display: block; overflow: auto; box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px 0px 10px; padding: 0px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; color: rgb(51, 51, 51); font-family: Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Consolas, monospace; word-break: break-all; word-wrap: break-word; background-color: rgb(255, 255, 255); background-image: none; box-shadow: none; width: 847.5px; height: 136px; background-position: initial initial; background-repeat: initial initial;"></pre><ol style="color:rgb(204, 204, 204);box-sizing:border-box;margin:0px 0px 10px 25px;padding:0px;margin-top:0px;margin-bottom:0px;border:0px none rgb(204, 204, 204);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:126px;"><li><span style="font-size: 15px;"><span style="font-weight: normal; box-sizing: border-box; margin: 0px 4px; padding: 1px 3px; color: navy; border: 0px none rgb(0, 0, 128); cursor: pointer; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;">&lt;android.support.v7.widget.Toolbar</span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">  </span></span><span style="box-sizing:border-box;border:0px none rgb(121, 93, 163);margin:0px;padding:0px;color:rgb(121, 93, 163);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">android:id</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">=</span></span><span style="box-sizing:border-box;border:0px none rgb(24, 54, 145);margin:0px;padding:0px;color:rgb(24, 54, 145);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">&quot;@+id/toolbar&quot;</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">  </span></span><span style="box-sizing:border-box;border:0px none rgb(121, 93, 163);margin:0px;padding:0px;color:rgb(121, 93, 163);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">android:layout_height</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">=</span></span><span style="box-sizing:border-box;border:0px none rgb(24, 54, 145);margin:0px;padding:0px;color:rgb(24, 54, 145);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">&quot;?attr/actionBarSize&quot;</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">  </span></span><span style="box-sizing:border-box;border:0px none rgb(121, 93, 163);margin:0px;padding:0px;color:rgb(121, 93, 163);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">android:layout_width</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">=</span></span><span style="box-sizing:border-box;border:0px none rgb(24, 54, 145);margin:0px;padding:0px;color:rgb(24, 54, 145);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">&quot;match_parent&quot;</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">  </span></span><span style="box-sizing:border-box;border:0px none rgb(121, 93, 163);margin:0px;padding:0px;color:rgb(121, 93, 163);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">android:background</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">=</span></span><span style="box-sizing:border-box;border:0px none rgb(24, 54, 145);margin:0px;padding:0px;color:rgb(24, 54, 145);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">&quot;?attr/colorPrimary&quot;</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;"> </span></span><span style="font-weight: normal; box-sizing: border-box; margin: 0px 4px; padding: 1px 3px; color: navy; border: 0px none rgb(0, 0, 128); cursor: pointer; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;"><span style="font-size: 15px;">&gt;</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;"> </span></span><span style="font-weight: normal; box-sizing: border-box; margin: 0px 4px; padding: 1px 3px; color: navy; border: 0px none rgb(0, 0, 128); cursor: pointer; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;"><span style="font-size: 15px;">&lt;/android.support.v7.widget.Toolbar&gt;</span></span></span></li></ol><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:108px;"><span style="font-size: 15px;">在本范例中，toolbar 是设定来在 activity_main.xml，对其设定 background 属性： android:background=&quot;?attr/colorPrimary&quot; ，这样就可以使之延用 Actionbar 的颜色设定喽。<br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
最后，再来看一下结果画面。</span></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:300px;"><img src="ToolBar_files/Image [4].png" type="image/png" data-filename="Image.png" height="300" style="max-width: 100%; border: 0px none rgb(51, 51, 51); vertical-align: middle; margin: 0px; padding: 0px; box-sizing: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 168px; height: auto;" title="Toolbar-Component-Click-168x300.png" width="168"/></p><div style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><div><br/></div></div><h2 style="box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px; padding: 0px; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 847.5px;"><span style="font-size: 15px;">4. 控件 (component)</span></h2><div style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:54px;"><div><span style="font-size: 15px;"> &lt;android.support.v7.widget.Toolbar/&gt;  标签中，自行添加元件的 toolbar 有几个大家常用的元素可以使用，请先见下图：</span></div></div><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:160px;"><img src="ToolBar_files/Image [5].png" type="image/png" data-filename="Image.png" height="160" style="max-width: 100%; border: 0px none rgb(51, 51, 51); vertical-align: middle; margin: 0px; padding: 0px; box-sizing: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 300px; height: auto;" title="Toolbar-Component-300x160.png" width="300"/></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">大抵来说，预设常用的几个元素就如图中所示，接着就依序来说明之：</span></p><ol style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 10px 25px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:86px;"><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:86px;"><span style="font-size: 15px;">setNavigationIcon<br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
即设定 up button 的图标，因为 Material 的介面，在 Toolbar这里的 up button样式也就有別于过去的 ActionBar 哦。</span></li></ol><ol style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 10px 25px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:236px;"><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:59px;"><span style="font-size: 15px;">setLogo<br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
APP 的图标。</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:59px;"><span style="font-size: 15px;">setTitle<br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
主标题。</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:59px;"><span style="font-size: 15px;">setSubtitle<br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
副标题。</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:59px;"><span style="font-size: 15px;">setOnMenuItemClickListener<br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/>
设定菜单各按鈕的动作。</span></li></ol><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">先来看看菜单外的代码，在 MainActivity.java 中：</span></p><pre style="display: block; overflow: auto; box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px 0px 10px; padding: 0px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; color: rgb(51, 51, 51); font-family: Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Consolas, monospace; word-break: break-all; word-wrap: break-word; background-color: rgb(255, 255, 255); background-image: none; box-shadow: none; width: 847.5px; height: 262px; background-position: initial initial; background-repeat: initial initial;"></pre><ol style="color:rgb(204, 204, 204);box-sizing:border-box;margin:0px 0px 10px 25px;padding:0px;margin-top:0px;margin-bottom:0px;border:0px none rgb(204, 204, 204);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:252px;"><li><span style="font-size: 15px;"><span style="box-sizing:border-box;border:0px none rgb(0, 134, 179);margin:0px;padding:0px;color:rgb(0, 134, 179);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">Toolbar</span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;"> toolbar </span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">=</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;"> </span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">(</span></span><span style="box-sizing:border-box;border:0px none rgb(0, 134, 179);margin:0px;padding:0px;color:rgb(0, 134, 179);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">Toolbar</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">)</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;"> findViewById</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">(</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">R</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">.</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">id</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">.</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">toolbar</span></span><span style="font-size: 15px;"><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">);</span></span></span></li><li><span style="box-sizing:border-box;border:0px none rgb(150, 152, 150);margin:0px;padding:0px;color:rgb(150, 152, 150);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">// App Logo</span></span></li><li><span style="font-size: 15px;"><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">toolbar</span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">.</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">setLogo</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">(</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">R</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">.</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">drawable</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">.</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">ic_launcher</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">);</span></span></span></li><li><span style="box-sizing:border-box;border:0px none rgb(150, 152, 150);margin:0px;padding:0px;color:rgb(150, 152, 150);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">// Title</span></span></li><li><span style="font-size: 15px;"><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">toolbar</span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">.</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">setTitle</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">(</span></span><span style="box-sizing:border-box;border:0px none rgb(24, 54, 145);margin:0px;padding:0px;color:rgb(24, 54, 145);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">&quot;My Title&quot;</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">);</span></span></span></li><li><span style="box-sizing:border-box;border:0px none rgb(150, 152, 150);margin:0px;padding:0px;color:rgb(150, 152, 150);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">// Sub Title</span></span></li><li><span style="font-size: 15px;"><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">toolbar</span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">.</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">setSubtitle</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">(</span></span><span style="box-sizing:border-box;border:0px none rgb(24, 54, 145);margin:0px;padding:0px;color:rgb(24, 54, 145);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">&quot;Sub title&quot;</span></span><span style="font-size: 15px;"><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">);</span></span></span></li><li><span style="font-size: 15px;"><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">setSupportActionBar</span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">(</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">toolbar</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">);</span></span></span></li><li><span style="font-size: 15px;"><span style="box-sizing:border-box;border:0px none rgb(150, 152, 150);margin:0px;padding:0px;color:rgb(150, 152, 150);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">// Navigation Icon 要設定在 setSupoortActionBar 才有作用</span><span style="box-sizing:border-box;border:0px none rgb(150, 152, 150);margin:0px;padding:0px;color:rgb(150, 152, 150);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">// 否則會出現 back button</span></span></span></li><li><span style="font-size: 15px;"><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">toolbar</span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">.</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">setNavigationIcon</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">(</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">R</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">.</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">drawable</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">.</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">ab_android</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">);</span></span></span></li></ol><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">这边要留意的是<span style="box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px; padding: 0px; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;"><span style="box-sizing: border-box; margin: 0px; padding: 0px; border: 0px none rgb(51, 51, 51); background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;"><span style="font-size: 15px;">setNavigationIcon</span></span></span>需要放在 <span style="box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px; padding: 0px; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;"><span style="box-sizing: border-box; margin: 0px; padding: 0px; border: 0px none rgb(51, 51, 51); background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none;"><span style="font-size: 15px;">setSupportActionBar</span></span></span>之后才会生效。</span></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">菜单部分，需要先在res/menu/menu_main.xml左定义：</span></p><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span></div><div><span style="font-size: 15px;">      xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span></div><div><span style="font-size: 15px;">      xmlns:tools=&quot;http://schemas.android.com/tools&quot;</span></div><div><span style="font-size: 15px;">      tools:context=&quot;.MainActivity&quot;&gt;</span></div><div><span style="font-size: 15px;">  &lt;item android:id=&quot;@+id/action_edit&quot;</span></div><div><span style="font-size: 15px;">     android:title=&quot;@string/action_edit&quot;</span></div><div><span style="font-size: 15px;">     android:orderInCategory=&quot;80&quot;</span></div><div><span style="font-size: 15px;">     android:icon=&quot;@drawable/ab_edit&quot;</span></div><div><span style="font-size: 15px;">     <span style="color: rgb(241, 79, 154);"><span style="font-size: 15px;"><span style="font-size: 15px;"><span style="color: rgb(229, 0, 255);">app:</span>showAsAction=&quot;ifRoom&quot;</span></span></span> /&gt;</span></div><div><span style="font-size: 15px;">&lt;item android:id=&quot;@+id/action_share&quot;</span></div><div><span style="font-size: 15px;">     android:title=&quot;@string/action_edit&quot;</span></div><div><span style="font-size: 15px;">     android:orderInCategory=&quot;90&quot;</span></div><div><span style="font-size: 15px;">     android:icon=&quot;@drawable/ab_share&quot;</span></div><div><span style="font-size: 15px;">     app:showAsAction=&quot;ifRoom&quot; /&gt;</span></div><div><span style="font-size: 15px;">&lt;item android:id=&quot;@+id/action_settings&quot;</span></div><div><span style="font-size: 15px;">     android:title=&quot;@string/action_settings&quot;</span></div><div><span style="font-size: 15px;">     android:orderInCategory=&quot;100&quot;</span></div><div><span style="font-size: 15px;">     app:showAsAction=&quot;never&quot;/&gt;</span></div><div><span style="font-size: 15px;">&lt;/menu&gt;</span></div></div><div><br/></div><div><span style="font-size: 15px;">再回到MainActivity.java 中加入OnMenuItemClickListener 的监听者：</span></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">private Toolbar.OnMenuItemClickListener onMenuItemClick = new Toolbar.OnMenuItemClickListener() { </span></div><div><span style="font-size: 15px;">@Override </span></div><div><span style="font-size: 15px;">public boolean onMenuItemClick(MenuItem menuItem) {   </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">String msg = &quot;&quot;;   </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">switch (menuItem.getItemId()) {     </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">      case R.id.action_edit:       </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">           msg += &quot;Click edit&quot;;       </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">           break;    </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">     case R.id.action_share:       </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">          msg += &quot;Click share&quot;;       </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">          break;     </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">case R.id.action_settings:       </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">          msg += &quot;Click setting&quot;;       </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">           break;    }    </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">if(!msg.equals(&quot;&quot;)) {     </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">     Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();   </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">}   </span></div><div style="margin-left:40px;"><span style="font-size: 15px;">return true;</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">}};</span></div></div><div><br/></div><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">将onMenuItemClick监听者设置给toolbar</span></p><div><span style="font-size: 15px;"><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">setSupportActionBar</span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">(</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">toolbar</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">);</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;"> </span></span><span style="font-size: 15px;"><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">...</span></span></span></div><div><span style="box-sizing:border-box;border:0px none rgb(150, 152, 150);margin:0px;padding:0px;color:rgb(150, 152, 150);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">// Menu item click 的監聽事件一樣要設定在 setSupportActionBar 才有作用</span></span></div><div><span style="font-size: 15px;"><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;">toolbar</span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">.</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">setOnMenuItemClickListener</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">(</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">onMenuItemClick</span></span><span style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;color:rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">);</span></span></span></div><div><br/></div><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:54px;"><span style="font-size: 15px;">和 setNavigationIcon 一样，需要將之设定在 setSupportActionBar 之后才有作用。执行上面的代码便会得到下面的界面。</span></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:300px;"><img src="ToolBar_files/Image [6].png" type="image/png" data-filename="Image.png" height="300" style="max-width: 100%; border: 0px none rgb(51, 51, 51); vertical-align: middle; margin: 0px; padding: 0px; box-sizing: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 168px; height: auto;" title="Toolbar-Component-Click是-168x300.png" width="168"/></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">完完整程序见：<a href="https://github.com/mosil/Android-Mosil-Sample-Toolbar/tree/master/toolbar_demo_checkpoint3" style="margin:0px;background-color:rgba(0, 0, 0, 0);color:rgb(15, 153, 50);text-decoration:none;border:0px none rgb(15, 153, 50);box-sizing:border-box;padding:0px;transition-duration:0.2s;transition-property:opacity;background-image:none;box-shadow:none;" target="_blank" title="checok point 3"><span style="font-size: 15px;">toolbar_demo_checkpoint3</span></a></span></p><h2 style="box-sizing: border-box; border: 0px none rgb(51, 51, 51); margin: 0px; padding: 0px; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 847.5px;"><span style="font-size: 15px;">5. 总结</span></h2><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:54px;"><span style="font-size: 15px;">在这样的架构设计下，ToolBar直接成了Layout中可以控制的东西，相对于过去的actionbar来说，设计与可操控性大幅提升。</span></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">本文上面的解释中用到的完成代码：toolbar demo check point 0 ~ 4，请到<a href="https://github.com/mosil/Android-Mosil-Sample-Toolbar" style="margin:0px;background-color:rgba(0, 0, 0, 0);color:rgb(15, 153, 50);text-decoration:none;border:0px none rgb(15, 153, 50);box-sizing:border-box;padding:0px;transition-duration:0.2s;transition-property:opacity;background-image:none;box-shadow:none;" target="_blank" title="Android-Mosil-Sample-Toolbar"><span style="font-size: 15px;">Github</span></a> 取得。</span></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">最后再附上一个界面上常用的属性说明图：</span></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:300px;"><img src="ToolBar_files/Image [7].png" type="image/png" data-filename="Image.png" height="300" style="max-width: 100%; border: 0px none rgb(51, 51, 51); vertical-align: middle; margin: 0px; padding: 0px; box-sizing: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; box-shadow: none; width: 168px; height: auto;" title="Component-Theme1-168x300.png" width="168"/></p><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:27px;"><span style="font-size: 15px;">这里按照图中从上到下的顺序做个简单的说明：</span></p><ul style="list-style:none;box-sizing:border-box;margin:0px 0px 10px 25px;padding:0px;text-decoration:none;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:958px;"><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:32px;"><span style="font-size: 15px;">colorPrimaryDark</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:27px;"><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></li><li style="list-style: none; display: inline"><ul style="list-style-type:square;box-sizing:border-box;margin:0px 0px 10px 25px;padding:0px;text-decoration:none;list-style:none;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:64px;"><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">状态栏背景色。</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">在 style 的属性中设置。</span></li></ul></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:32px;"><span style="font-size: 15px;">textColorPrimary</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:27px;"><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></li><li style="list-style: none; display: inline"><ul style="list-style-type:square;box-sizing:border-box;margin:0px 0px 10px 25px;padding:0px;text-decoration:none;list-style:none;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:64px;"><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">App bar 上的标题与更多菜单中的文字颜色。</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">在 style 的属性中设置。</span></li></ul></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:32px;"><span style="font-size: 15px;">App bar 的背景色</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:27px;"><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></li><li style="list-style: none; display: inline"><ul style="list-style-type:square;box-sizing:border-box;margin:0px 0px 10px 25px;padding:0px;text-decoration:none;list-style:none;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:64px;"><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">Actionbar 的背景色设定在 style 中的 colorPrimary。</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">Toolbar 的背景色在layout文件中设置background属性。</span></li></ul></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:32px;"><span style="font-size: 15px;">colorAccent</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:27px;"><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></li><li style="list-style: none; display: inline"><ul style="list-style-type:square;box-sizing:border-box;margin:0px 0px 10px 25px;padding:0px;text-decoration:none;list-style:none;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:64px;"><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">各控制元件(如：check box、switch 或是 radoi) 被勾选 (checked) 或是选定 (selected) 的颜色。</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">在 style 的属性中设置。</span></li></ul></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:32px;"><span style="font-size: 15px;">colorControlNormal</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:27px;"><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></li><li style="list-style: none; display: inline"><ul style="list-style-type:square;box-sizing:border-box;margin:0px 0px 10px 25px;padding:0px;text-decoration:none;list-style:none;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:64px;"><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">各控制元件的预设颜色。</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">在 style 的属性中设置</span></li></ul></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:32px;"><span style="font-size: 15px;">windowBackground</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:27px;"><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></li><li style="list-style: none; display: inline"><ul style="list-style-type:square;box-sizing:border-box;margin:0px 0px 10px 25px;padding:0px;text-decoration:none;list-style:none;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:64px;"><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">App 的背景色。</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">在 style 的属性中设置</span></li></ul></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:32px;"><span style="font-size: 15px;">navigationBarColor</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:27px;"><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></li><li style="list-style: none; display: inline"><ul style="list-style-type:square;box-sizing:border-box;margin:0px 0px 10px 25px;padding:0px;text-decoration:none;list-style:none;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:64px;"><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">导航栏的背景色，但只能用在 API Level 21 (Android 5) 以上的版本</span></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:797.5px;height:32px;"><span style="font-size: 15px;">在 style 的属性中设置</span></li></ul></li><li style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:822.5px;height:27px;"><br style="box-sizing:border-box;border:0px none rgb(51, 51, 51);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"/></li></ul><p style="box-sizing:border-box;border:0px none rgb(51, 51, 51);margin:0px 0px 15px;padding:0px;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:54px;"><span style="font-size: 15px;">最后需要注意的是：<span style="box-sizing:border-box;border:0px none rgb(255, 0, 0);margin:0px;padding:0px;color:rgb(255, 0, 0);background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;"><span style="font-size: 15px;">使用material主题的时候，必须设定targetSdkVersion = 21，否则界面看起来是模糊的    </span></span>                            </span></p></div><div style="box-sizing:border-box;border:0px none rgb(0, 0, 0);margin:0px;padding:0px;text-align:center;background-color:rgba(0, 0, 0, 0);background-image:none;box-shadow:none;width:847.5px;height:17px;"><div><span style="display: block; clear: both; box-sizing: border-box; visibility: hidden; height: 0px;"><span style="font-size: 15px;">.</span></span></div></div><span style="display: block; clear: both; box-sizing: border-box; visibility: hidden; height: 0px;"><span style="font-size: 15px;">.</span></span></div></div></div></div></div></div><div style="-evernote-webclip:true"><br/></div></span>
</div></body></html> 