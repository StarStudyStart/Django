<html>
<head>
  <title>百度地图</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="724"/>
<h1>百度地图</h1>

<div>
<span><div><span style="font-size: 15px;">总结：按照百度地图开发者平台给出的开发指南一步步的配置即可实现显示地图的功能</span></div><div><br/></div><div><span style="color: rgb(255, 0, 0);"><span style="font-size: 15px;">1、显示地图</span></span></div><div><span style="font-size: 15px;">     ① 配置文件，开发者密匙（注册申请）&lt;meta-data&gt;、权限（较多）；</span></div><div><span style="font-size: 15px;">     ② 代码初始化SDKInitializer.init(context) ，在加载布局之前调用，不然会报错，找不到mapview控件。</span></div><div><span style="font-size: 15px;">     ③ 资源的释放（生命周期管理onResume（）、onPause、onDestory（））</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">// 初始化SDK</span></div><div><span style="font-size: 15px;">          SDKInitializer.initialize (getApplicationContext());</span></div><div><span style="font-size: 15px;">          setContentView(R.layout. activity_main);</span></div><div><span style="font-size: 15px;">           // 寻找控件</span></div><div><span style="font-size: 15px;">           mapview = ( MapView) findViewById(R.id. mapView);</span></div><div><span style="font-size: 15px;">// 释放资源</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">@Override</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">      protected void onDestroy() {</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">           // TODO Auto-generated method stub</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">           super.onDestroy();</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">           mapview.onDestroy();</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">           if ( locationManager != null) {</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">                locationManager.removeUpdates( listener);</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">          }</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">     }</span></div><div style="margin-left:40px;"><br/></div><div style="margin-left:40px;"><span style="font-size: 15px;">      @Override</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">      protected void onResume() {</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">           // TODO Auto-generated method stub</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">           super.onResume();</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">           mapview.onResume();</span></div><div style="margin-left:40px;"><span style="font-size: 15px;">     }</span></div></div><div><br/></div><div><span style="color: rgb(227, 0, 0);"><span style="font-size: 15px;">2、让地图显示我当前所在的区域</span></span></div><div><span style="font-size: 15px;">     ① 获取地图总的管理对象BaiduMap。</span></div><div align="left"><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">          // 获取地图的总控制器</span></div><div><span style="font-size: 15px;">           baiduMap = mapview.getMap();</span></div></div><div align="left"><br/></div><div><span style="font-size: 15px;">     ② 获取位置信息location    上一节笔记； </span></div><div><span style="font-size: 15px;">     ③ 利用MapStatusUpdateFactory.zommTo()、.newLatLng()对象可以设置地图的缩放，经纬度等信息，返回的是一个MapStatusUpdate对象</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">               // 獲取經緯度對象</span></div><div><span style="font-size: 15px;">               LatLng latLng = new LatLng(location.getLatitude(),</span></div><div><span style="font-size: 15px;">                         location.getLongitude());</span></div><div><span style="font-size: 15px;">                // 蔣經緯度信息傳入到MapStatusUpdates對象中</span></div><div><span style="font-size: 15px;">               MapStatusUpdate update = MapStatusUpdateFactory.newLatLng(latLng);</span></div></div><div><span style="font-size: 15px;">     ④将返回的MapStatusUpdate对象对象作为参数传入到baiduMap.aimateMapStatus()中，即可实现  以当前位置为中心显示地图；</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">               // 在控件中顯示當前位置</span></div><div><span style="font-size: 15px;">                baiduMap.animateMapStatus(update);</span></div><div><span style="font-size: 15px;">               update = MapStatusUpdateFactory. zoomTo(16f);</span></div><div><span style="font-size: 15px;">                baiduMap.animateMapStatus(update);</span></div></div><div><br/></div><div><span style="font-size: 15px;"><span style="color: rgb(227, 0, 0);">3、在地图上显示自己的位置</span></span></div><div><span style="font-size: 15px;">     百度地图提供了MyLocationData这个类来显示当前的位置信息</span></div><div><span style="font-size: 15px;">     ① 获取MyLocationData .Builder的实例builder，设置经纬度信息 ； </span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">          MyLocationData.Builder locationBuilder = new MyLocationData.Builder();</span></div><div><span style="font-size: 15px;">          locationBuilder.latitude(location.getLatitude());</span></div><div><span style="font-size: 15px;">          locationBuilder.longitude(location.getLongitude());</span></div></div><div><br/></div><div><span style="font-size: 15px;">      ② 调用builder.build（）返回一个MyLocationData对象；</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">          MyLocationData myLocationData = locationBuilder.build();</span></div></div><div><br/></div><div><span style="font-size: 15px;">      ③ 调用baiduMap.setMyLoationDta（MyLocationData  myLocationData ）方法实现，以光点形式显示自己所在位置</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 15px;">          baiduMap .setMyLocationData(myLocationData);</span></div></div><div><br/></div><div><span style="color: rgb(227, 0, 0);"><span style="font-size: 15px;">遗留问题：</span></span></div><div><span style="color: rgb(227, 0, 0);"><span style="font-size: 15px;">     1、查阅API实现其他的一个小功能；</span></span></div><div><span style="color: rgb(227, 0, 0);"><span style="font-size: 15px;">     2、BitMap类的使用</span></span></div><div><span style="font-size: 15px;">感受：将近一个星期没有学习了，每天外出工作，晒得很黑！！！！！！！！</span></div><div><span style="font-size: 15px;">          草草的快要结束 《第一行代码》 的学习了，加油。</span></div><div><span style="font-size: 15px;">          这两天印象笔记终于不卡了。。。。。。。。。。。</span></div><div><span style="color: rgb(229, 0, 255);"><span style="font-size: 15px;">总结真的很烦人啊！！</span></span></div></span>
</div></body></html> 