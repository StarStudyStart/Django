<html>
<head>
  <title>BeautifulSoup中的.string 与.text/get_text()的区别</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="490"/>
<h1>BeautifulSoup中的.string 与.text/get_text()的区别</h1>

<div>
<span><div><div><font style="font-size: 18pt;"><span style="font-size: 18pt;">1、.text 即 get_text() </span></font></div><div><font face="仿宋" style="font-size: 18pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 18pt; font-family: 仿宋; color: rgb(0, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">如果只想得到tag中包含的文本内容,那么可以使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 18pt; font-family: 仿宋; color: rgb(0, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 18pt; font-family: 仿宋; color: rgb(0, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">get_text()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 18pt; font-family: 仿宋; color: rgb(0, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 18pt; font-family: 仿宋; color: rgb(0, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">方法,这个方法获取到tag中包含的所有文字内容包括子孙tag中的内容,并将结果作为Unicode字符串返回:</span></font></div><div style="background: rgb(238, 255, 204);"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51);">markup = '&lt;a href=&quot;</span><a href="http://example.com/" style="color: rgb(51, 51, 51);">http://example.com/</a><span style="color: rgb(51, 51, 51);">&quot;&gt;\nI   linked to&lt;i&gt;</span><a href="http://example.com/" style="color: rgb(51, 51, 51);">example.com</a><span style="color: rgb(51, 51, 51);">&lt;/i&gt;\n&lt;/a&gt;'soup = BeautifulSoup(markup)</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="color: rgb(51, 51, 51);">soup.get_text()u'\nI linked to</span> <a href="http://example.com/" style="color: rgb(51, 51, 51);">example.com</a><span style="color: rgb(51, 51, 51);">\n'soup.i.get_text()u'</span><a href="http://example.com/" style="color: rgb(51, 51, 51);">example.com</a><span style="color: rgb(51, 51, 51);">'</span></div></div></div><div><br/></div><div><span style="font-family: 仿宋;">  2、</span></div><h3 style="background-color: rgb(242, 242, 242); border-bottom: 1px solid rgb(204, 204, 204); margin: 20px -20px 10px; padding: 3px 0px 3px 10px; font-size: 22.4px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="background-color: rgb(242, 242, 242); border-bottom: 1px solid rgb(204, 204, 204); font-size: 22.4px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(32, 67, 92); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: normal;">2.string</span></h3><div style="text-align: justify; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">如果tag只有一个</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">NavigableString</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">类型子节点,那么这个tag可以使用</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">.string</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">得到子节点:</span></div><div style="font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div style="background: rgb(238, 255, 204);"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; color: rgb(51, 51, 51);">title_tag.string# u'The Dormouse's story'</span></div></div></div></div><div style="text-align: justify; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">如果一个tag仅有一个子节点,那么这个tag也可以使用</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">.string</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">方法,输出结果与当前唯一子节点的</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">.string</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">结果相同:</span></div><div style="font-size: 16px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div style="background: rgb(238, 255, 204);"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; color: rgb(51, 51, 51);">head_tag.contents# [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span></div><div><br style="font-size: 12pt; color: rgb(51, 51, 51);"/></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51);">head_tag.string# u'The Dormouse's story'</span></div></div></div></div><div style="text-align: justify; font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">如果tag包含了多个子节点,tag就无法确定</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">.string</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">方法应该调用哪个子节点的内容,</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">.string</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">的输出结果是</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">None</span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;"> </span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 20.8px;-en-paragraph:true;">:</span></div><div style="background: rgb(238, 255, 204);"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51);">print(soup.html.string)# None</span></div></div></div><div><br/></div><div><br/></div><div>                                                        <img src="BeautifulSoup中的.string 与.textget_text()的区别_files/Image.png" type="image/png" data-filename="Image.png"/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 