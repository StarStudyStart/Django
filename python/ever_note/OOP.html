<html>
<head>
  <title>OOP</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="558"/>
<h1>OOP</h1>

<div>
<span><div><div><span style="font-size: 12pt;">1、@__slots__</span></div><div><br/></div><div><span style="font-size: 12pt;">            限制实例动态定义属性的范围</span></div><div><br/></div><div>                    <img src="OOP_files/Image.png" type="image/png" data-filename="Image.png" width="428"/></div><div><span style="font-size: 12pt;">2、@property</span></div><div><span style="font-size: 12pt;">            把方法变成属性，使得方法的实现像属性一样简单</span></div><div>                <img src="OOP_files/Image [1].png" type="image/png" data-filename="Image.png" width="436"/></div><div><br/></div><div><span style="font-size: 12pt;">3、多重继承MixIn(类似java的接口)</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; color: rgb(51, 51, 51);">class MyTCPServer(TCPServer, ForkingMixIn):</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51);">    pass</span></div></div><div><font style="font-size: 12pt;"><span style="word-wrap: break-word; white-space: pre-wrap; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(102, 102, 102); font-variant-caps: normal; font-variant-ligatures: normal;">由于Python允许使用多重继承，因此，MixIn就是一种常见的设计。</span><span style="white-space: pre-wrap; font-size: 12pt; color: rgb(102, 102, 102);">只允许单一继承的语言（如Java）不能使用MixIn的设计</span></font></div><div><br/></div><div><font style="font-size: 12pt;"><span style="white-space: pre-wrap; font-size: 12pt; color: rgb(102, 102, 102);">4、自定义类</span></font></div><ol><li><div><font style="font-size: 12pt;"><span style="white-space: pre-wrap; font-size: 12pt; color: rgb(102, 102, 102);">__str__():自定义实例打印输出,返回用户看到的字符串</span></font></div></li><li><div><span style="font-size: 12pt; color: rgb(102, 102, 102);">__repr__():返回程序员看到的字符串，<span style="background-color: rgb(255, 250, 165); font-size: 12pt; color: rgb(102, 102, 102);-evernote-highlight:true;">调试使用</span></span></div></li></ol><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(102, 102, 102);"><font style="font-size: 11pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">#！/usr/bin/</span></font></span></div><div><span style="color: rgb(102, 102, 102);"><span style="font-family: Monaco; color: rgb(51, 51, 51);">#-*- coding:utf-8 -*-</span></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);">class Student(object):</span></div><div><br/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);">    def __init__(self,name):</span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);">        self.name = name</span></div><div><br/></div><div><span style="font-family: Monaco;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">    def __str__(self):</span></div><div><span style="font-family: Monaco;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">        return &quot;Student object (name:%s) &quot; % self.name</span></div><div><br/></div><div><span style="font-family: Monaco;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">    __repr__ = __str__</span></div><div><br/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);">print(Student(&quot;YabinLi&quot;))</span></div></div><div><span style="font-size: 12pt; color: rgb(102, 102, 102);">     3.__iter__ (): 使对象实例像list一样可以被for循环迭代遍历</span></div><div><span style="font-size: 12pt; color: rgb(102, 102, 102);">                 __iter__() 方法返回迭代对象</span></div><div><span style="font-size: 12pt; color: rgb(102, 102, 102);">                之后for循环不断地调用迭代对象的</span><span style="background-color: rgb(255, 250, 165); font-size: 12pt; color: rgb(102, 102, 102);-evernote-highlight:true;">__next__()</span> <span style="font-size: 12pt; color: rgb(102, 102, 102);">方法获取循环的下一个的值</span></div><div><span style="font-size: 12pt; color: rgb(102, 102, 102);"><span>    </span><span style="font-size: 12pt; color: rgb(102, 102, 102);"> 4. __getitem__() 从实例对象中取出指定索引的[]</span><br/></span></div><div><span style="font-size: 12pt; color: rgb(102, 102, 102);"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; color: rgb(102, 102, 102);"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"># __iter__&amp;&amp;__next__()</span></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">class Fib():</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    def __init__(self):</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        self.a,self.b = 0,1</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    def __iter__(self):</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        return self</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">    def __next__(self):</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">        self.a,self.b = self.b,self.a+self.b</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">        # self.a +=1</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">        if self.a &gt; 100:</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">            raise StopIteration()</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">        return self.a</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">    def  __getitem__(self,n):</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">        a,b = 1,1</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">        for x in range(n):</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">            a,b = b,a+b</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">        return a</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">for n in Fib():</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    print(n)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">print(Fib()[6])</span></div></div><div><span style="font-size: 12pt; color: rgb(102, 102, 102);"><br/></span></div><div><span style="font-size: 12pt; color: rgb(102, 102, 102);"><br/></span></div><div><span style="font-size: 12pt; color: rgb(102, 102, 102);">     5、__getattr__():当实例尝试调用不存在的属性时，python会尝试调用__getattr_()来获取返回值</span></div><div><span style="font-size: 12pt; color: rgb(102, 102, 102);"><span>    </span><span>    </span><span>    </span> <span style="color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">可以针对完全动态的情况作调用</span><br/></span></div><div><span style="font-size: 12pt; color: rgb(102, 102, 102);"><span style="color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span>    </span><span>    </span><span>    </span></span></span><br/></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; color: rgb(102, 102, 102);"><br/></span></div></div><br/></div><div><span style="font-size: 12pt; color: rgb(102, 102, 102);"><span style="color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></span><br/></div><div><span style="font-size: 12pt; color: rgb(102, 102, 102);">     6、__call__</span></div><ol><li><div><br/></div></li><li><div><br/></div></li><li><div><br/></div></li><li><div><br/></div></li></ol><div><br/></div></div><div><br/></div></span>
</div></body></html> 