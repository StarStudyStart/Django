<html>
<head>
  <title>14、自制shell提示符</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="741"/>
<h1>14、自制shell提示符</h1>

<div>
<span><div><div><span style="font-size: 14pt;">1、提示符命令</span></div><div><span style="font-size: 12pt;">    PS1（prompt string one）提示符1：提示符是由一个“</span><span style="font-size: 12pt;">PS1</span><span style="font-size: 12pt;">”环境变量定义的</span></div><div><span style="font-size: 12pt;">   </span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">   </span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 14pt;">  PS1=&quot;[\u@\h \W]\$ &quot;  &quot;&quot;限制字符的展开</span></div></div><div><br/></div><div><span style="font-size: 14pt;">2、</span><span style="font-size: 14pt;">由反斜杠转义的特</span><span style="font-size: 14pt; line-height: 1.45;">殊字符列表</span></div><div><span style="font-size: 14pt; line-height: 1.45;">    <img src="14、自制shell提示符_files/ScreenClip.png" type="image/png" data-filename="ScreenClip.png" style="font-size: 14pt;"/></span></div><div><span style="font-size: 14pt; line-height: 1.45;">    <img src="14、自制shell提示符_files/ScreenClip [1].png" type="image/png" data-filename="ScreenClip.png" style="font-size: 14pt;"/></span></div><div><span style="font-size: 14pt;">3、修改提示符的字体背景以及字体颜色</span></div><div><span style="font-size: 12pt;">     \[\033[0;30m\]  文本颜色</span></div><div><span style="font-size: 12pt;">     \[\033[0;40m\] 背景颜色</span></div><div><span style="font-size: 12pt;">    <img src="14、自制shell提示符_files/ScreenClip [2].png" type="image/png" data-filename="ScreenClip.png" style="font-size: 12pt;"/></span></div><div><span style="font-size: 12pt;">    </span></div><div><span style="font-size: 12pt;">    </span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12pt;">\[\033[0m\]  恢复到之前的状态</span></div></div><div><br/></div><div>   <span style="font-size: 12pt;"> 除了正常的 (0) 和黑体 (1) 字符属性之外，文本也可以具有下划线 (4)，闪烁 (5)，和</span><span style="line-height: 1.45; font-size: 12pt;">反向 (7) 属性。为了拥有好品味，然而，许多终端仿真器拒绝使用这个闪烁属性。</span></div><div><span style="font-size: 14pt;">4、移动光标</span></div><div><span style="font-size: 14pt;">        <img src="14、自制shell提示符_files/ScreenClip [3].png" type="image/png" data-filename="ScreenClip.png" style="font-size: 14pt;"/></span></div><div><span style="font-size: 14pt;"> </span><span style="font-size: 12pt;">   在屏幕的上</span><span style="font-size: 12pt; line-height: 1.45;">方画出一个包含时钟（由黄色文本渲染）的红色长条</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font style="font-family: Modern;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51);">   </span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-size: 14pt;">PS1=&quot;\[\033[s\033[0;0H</span><span style="font-size: 14pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51);">\033[0;41m</span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-size: 14pt;">\033[K\033[1;33m\t\033[u\033[0m\] [\u@\h \W]$ &quot;</span></font></div><div><span style="font-size: 14pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">  PS1=&quot;\[\033[s\033[0;0H</span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 14pt;">\033[K</span><span style="font-size: 14pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">\033[0;41m</span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 14pt;">\033[1;33m\t\033[u\033[0m\] [\u@\h \W]$ &quot;</span></div></div><div><span style="font-size: 14pt;"> </span></div><div><span style="font-size: 14pt;"><span>同一的效果<span style="box-sizing: border-box; font-size: 14pt; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); font-family: Modern; color: rgb(51, 51, 51);">PS1=&quot;\[\033[s\033[0;0H</span><span style="box-sizing: border-box; font-size: 14pt; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); font-family: Modern; color: rgb(51, 51, 51);">\033[0;41m<span style="font-size: 14pt; box-sizing: border-box; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); font-family: Modern; color: rgb(51, 51, 51);">\033[1;33m</span></span><span style="box-sizing: border-box; font-size: 14pt; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); font-family: Modern; color: rgb(51, 51, 51);">\033[K\t\033[u\033[0m\] [\u@\h \W]$ &quot;</span></span></span></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><div><span style="font-size: 14pt;"> <img src="14、自制shell提示符_files/ScreenClip [4].png" type="image/png" data-filename="ScreenClip.png" style="font-size: 14pt;"/></span></div><div><br/></div></blockquote><div><span style="font-size: 14pt;">5、保存修改</span></div><div><span style="font-size: 14pt;">    在家目录.bashrc文件后添加</span><span style="font-size: 14pt; line-height: 1.45;"> </span><span style="font-size: 14pt; line-height: 1.45;">    </span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">    </span><span style="font-size: 14pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">PS1=&quot;\[\033[s\033[0;0H</span><span style="font-size: 14pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">\033[0;41m</span><span style="font-size: 14pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">\033[K\033[1;33m\t\033[u\033[0m\] [\u@\h \W]$ &quot;</span></div><div><span style="font-size: 14pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">     export PS1</span></div></div><div><span style="font-size: 14pt;">   修改用户的shell环境， 然后运行 source .bashrc。激活我们的修改</span></div><div><br/></div><div><br/></div><div><br/></div><div>    </div></div><div><br/></div></span>
</div></body></html> 